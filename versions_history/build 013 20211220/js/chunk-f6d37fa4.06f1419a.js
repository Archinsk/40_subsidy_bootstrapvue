(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f6d37fa4"],{"06b9":function(e,t,s){},"0703":function(e,t,s){"use strict";s("c2b9")},"159b":function(e,t,s){var a=s("da84"),i=s("fdbc"),r=s("785a"),n=s("17c2"),o=s("9112"),l=function(e){if(e&&e.forEach!==n)try{o(e,"forEach",n)}catch(t){e.forEach=n}};for(var c in i)i[c]&&l(a[c]&&a[c].prototype);l(r)},"17c2":function(e,t,s){"use strict";var a=s("b727").forEach,i=s("a640"),r=i("forEach");e.exports=r?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},"3a01":function(e,t,s){},"419d":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"btn btn-outline-primary col-12 mb-2",on:{click:e.selectEsia}},[e._v(" Подобрать с учетом ЕСИА ")]),s("div",{staticClass:"btn btn-outline-primary col-12 mb-2",on:{click:e.chatActivation}},[e._v(" Подобрать с помощью чат-бота ")])]),e._l(e.fd,(function(e){return s("FilterCheckboxesGroup",{key:e.title,attrs:{filterData:e}})})),s("div",{staticClass:"row"},[s("div",{staticClass:"col mb-3"},[s("div",{staticClass:"btn btn-primary btn-block",on:{click:e.scenarioFilter}},[e._v(" Применить ")])]),s("div",{staticClass:"col mb-3"},[s("div",{staticClass:"btn btn-outline-primary btn-block",on:{click:e.clearFilter}},[e._v(" Очистить ")])])])],2)},i=[],r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-form-group",{attrs:{label:e.filterData.title},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.ariaDescribedby;return[s("b-form-checkbox-group",{attrs:{options:e.filterData.options,"aria-describedby":a,name:"flavour-2a",stacked:""},model:{value:e.filterData.selected,callback:function(t){e.$set(e.filterData,"selected",t)},expression:"filterData.selected"}})]}}])})],1)},n=[],o={name:"FilterCheckboxesGroup",props:["filterData"],data:function(){return{selected:[],options:[{text:"Лесоводство и лесозаготовки",value:"1"},{text:"Добыча угля",value:"2"},{text:"Производство одежды",value:"3"},{text:"Строительство зданий",value:"4"},{text:"Научные исследования и разработки",value:"5"},{text:"Деятельность общественных организаций",value:"6"},{text:"Производство мебели",value:"7"},{text:"Деятельность профессиональная научная и техническая прочая",value:"8"},{text:"Деятельность в области спорта, отдыха и развлечений",value:"9"},{text:"10 – тип поддержки, который нам в итоге нужно найти",value:"10"}]}}},l=o,c=s("2877"),u=Object(c["a"])(l,r,n,!1,null,"5fdc2ed3",null),p=u.exports,m={name:"MeasuresFiltersList",props:["fd"],components:{FilterCheckboxesGroup:p}},d=m,v=Object(c["a"])(d,a,i,!1,null,"cf4fe8ae",null);t["a"]=v.exports},"51ef":function(e,t,s){"use strict";s("3a01")},a5f3:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row row-cols-1"},[e._l(e.measuresCardsList,(function(e){return s("div",{key:e.id,staticClass:"col"},[s("MeasuresCardsListItem",{attrs:{measure:e}})],1)})),s("Pagination",{directives:[{name:"show",rawName:"v-show",value:e.itemsTotal>e.pageSize,expression:"itemsTotal > pageSize"}],attrs:{"items-total":e.itemsTotal,page:e.page,"page-size":e.pageSize,"items-per-page":e.itemsPerPage},on:{"change-pageSize":function(t){return e.changePageSize(t)},"change-page":function(t){return e.changePage(t)}}})],2)},i=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card measure__card"},[a("div",{staticClass:"card-body row"},[a("router-link",{staticClass:"measure-link col-12 col-md-9 stretched-link",attrs:{to:"/subsidyinfotemp/"+e.measure.id}},[a("h5",{staticClass:"card-title"},[a("span",{staticClass:"badge badge-primary"},[e._v(e._s(e.measure.id))]),e._v(" "+e._s(e.measure.name)+" ")])]),a("div",{staticClass:"card-text col-12 col-md-3"},[e._v(" Приём заявок"),a("br"),a("b",[e._v(" "+e._s(e.measurePeriod)+" ")]),e.measure.active?e._e():[a("br"),a("i",[e._v(" "+e._s(e.isActive)+" ")])]],2)],1),a("hr"),a("div",{staticClass:"card-footer bg-transparent measure__card__footer row"},[a("div",{staticClass:"measure__owner__logo col-md-6 col-lg-5"},[a("img",{staticClass:"measure__owner__logo__image",attrs:{src:"images/initiators_logo/"+e.measure.initiator_logo,alt:"..."}}),a("div",{staticClass:"measure__owner__logo__text"},[a("div",{staticClass:"logo__header__comment"},[e._v("Инициатор")]),a("div",{staticClass:"logo__name"},[e._v(" "+e._s(e.measure.initiator_title)+" ")])])]),a("div",{staticClass:"measure__details col-md-6 col-lg-3"},[a("div",{staticClass:"measure__size"},[a("div",{staticClass:"measure__size__header"},[e._v(" "+e._s("нф"===e.measure.measure_size?"Нефинансовая мера поддержки":"Размер поддержки")+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:"нф"!==e.measure.measure_size,expression:"measure.measure_size !== 'нф'"}],staticClass:"measure__size__value"},[e._v(" до "+e._s(e.measure.measure_size)+" рублей ")])])]),a("div",{staticClass:"measure__buttons col"},[a("img",{directives:[{name:"show",rawName:"v-show",value:"1"===e.measure.electronic_form,expression:"measure.electronic_form === '1'"}],staticClass:"measure__web__accessibility",attrs:{src:s("d61c"),title:"По данной мере поддержки есть возможность электронной подачи",alt:""}}),a("a",{staticClass:"btn btn-outline-primary",attrs:{href:"#"}},[e._v("Получить поддержку")])])])])},n=[],o={name:"MeasuresCardsListItem",props:["measure"],data:function(){return{}},computed:{measurePeriod:function(){var e="",t={day:"2-digit",month:"2-digit",year:"numeric"};return this.measure.startDate&&(e+="c "+new Intl.DateTimeFormat("ru-RU",t).format(new Date(this.measure.startDate))+" "),this.measure.endDate&&(e+="по "+new Intl.DateTimeFormat("ru-RU",t).format(new Date(this.measure.endDate))),this.measure.startDate||this.measure.endDate||(e="даты не указаны"),e},isActive:function(){return this.measure.active?"активна":"не активна"}}},l=o,c=(s("51ef"),s("2877")),u=Object(c["a"])(l,r,n,!1,null,"40d6dca8",null),p=u.exports,m=s("cbb7"),d={name:"MeasuresCardsList",components:{MeasuresCardsListItem:p,Pagination:m["a"]},props:["measuresCardsList","itemsTotal","page","pageSize","itemsPerPage"]},v=d,g=(s("bee7"),Object(c["a"])(v,a,i,!1,null,"3de212e0",null));t["a"]=g.exports},a640:function(e,t,s){"use strict";var a=s("d039");e.exports=function(e,t){var s=[][e];return!!s&&a((function(){s.call(null,t||function(){throw 1},1)}))}},bee7:function(e,t,s){"use strict";s("06b9")},c2b9:function(e,t,s){},cbb7:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row justify-content-between"},[s("PaginationItemsPerPage",{attrs:{"items-per-page":e.itemsPerPage,"page-size":e.pageSize},on:{"change-pageSize":function(t){return e.$emit("change-pageSize",t)}}}),s("div",{staticClass:"block"},[e._v("1-"+e._s(e.pageSize)+" из "+e._s(e.itemsTotal))]),e.itemsTotal?s("PaginationPageSelector",{attrs:{"items-total":e.itemsTotal,"page-size":e.pageSize,page:e.pageSize},on:{"change-page":function(t){return e.$emit("change-page",t)}}}):e._e()],1)},i=[],r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pagination-items-per-page"},e._l(e.itemsPerPage,(function(t){return s("button",{key:t,staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(s){return e.$emit("change-pageSize",t)}}},[e._v(" "+e._s(t)+" ")])})),0)},n=[],o={name:"PaginationItemsPerPage",props:["itemsPerPage","pageSize"]},l=o,c=s("2877"),u=Object(c["a"])(l,r,n,!1,null,null,null),p=u.exports,m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"measure__pagination"},[s("nav",{attrs:{"aria-label":"Page navigation example"}},[s("ul",{staticClass:"pagination justify-content-center"},[e._m(0),e._l(e.pages,(function(t){return s("li",{key:t,staticClass:"page-item"},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(s){return e.$emit("change-page",t)}}},[e._v(e._s(t))])])})),e._m(1)],2)])])},d=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"page-item"},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("«")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"page-item"},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("»")])])])}],v={name:"PaginationPageSelector",props:["itemsTotal","page","pageSize"],computed:{pages:function(){return Math.ceil(this.itemsTotal/this.pageSize)}}},g=v,_=Object(c["a"])(g,m,d,!1,null,null,null),f=_.exports,h={name:"Pagination",components:{PaginationItemsPerPage:p,PaginationPageSelector:f},props:["itemsTotal","page","pageSize","itemsPerPage"]},b=h,C=Object(c["a"])(b,a,i,!1,null,null,null);t["a"]=C.exports},cca1:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("section",{directives:[{name:"show",rawName:"v-show",value:!e.chatIsActive,expression:"!chatIsActive"}],staticClass:"measures"},[s("div",{staticClass:"measures__wrapper"},[s("h4",{staticClass:"measures__heading text-center"},[e._v(" Меры поддержки "),s("span",{staticClass:"badge badge-primary"},[e._v(e._s(e.itemsTotal))])]),s("div",{staticClass:"row justify-content-center mb-3"},[s("div",{staticClass:"col-2"},[s("MeasuresFilter",{attrs:{fd:e.filters}})],1),s("div",{staticClass:"col-6"},[s("MeasuresCardsList",{attrs:{"measures-cards-list":e.measuresCardsList,"items-total":e.itemsTotal,page:e.page,"page-size":e.pageSize,"items-per-page":e.itemsPerPage}})],1)])])])])},i=[],r=(s("159b"),s("a5f3")),n=s("419d"),o={name:"Measures",components:{MeasuresCardsList:r["a"],MeasuresFilter:n["a"]},data:function(){return{measuresCardsList:[],itemsTotal:0,page:1,pageSize:10,itemsPerPage:[3,5,10,20],filters:[{title:"Отрасль экономики:",selected:[],options:[{text:"Промышленность",value:"1"},{text:"Сельское хозяйство",value:"2"},{text:"Строительство",value:"3"},{text:"Транспорт",value:"4"},{text:"Связь",value:"5"},{text:"Торговля и общественное питание",value:"6"},{text:"Культура и искусство",value:"7"},{text:"Информационно-вычислительное обслуживание",value:"8"},{text:"Наука и научное обслуживание",value:"9"}]},{title:"Форма/вид поддержки:",selected:[],options:[{text:"Финансовая",value:"1"},{text:"Информационная",value:"2"},{text:"Образовательная",value:"3"},{text:"Консультационная",value:"4"},{text:"Имущественная",value:"5"},{text:"Инновационная",value:"6"}]},{title:"Вид получателя:",selected:[],options:[{text:"ИП",value:"1"},{text:"ЮЛ",value:"2"}]},{title:"Размер поддержки:",selected:[],options:[{text:"до 100 т.р.",value:"1"},{text:"от 500 т.р. до 1 млн.р.",value:"2"},{text:"от 1 млн.руб до 10 млн.р.",value:"3"},{text:"от 10 млн.руб до 20 млн.р.",value:"4"}]},{title:"Срок оказания поддержки:",selected:[],options:[{text:"до 1 месяца",value:"1"},{text:"от 1 до 3 месяцев",value:"2"},{text:"от 3 до 6 месяцев",value:"3"},{text:"от 6 месяцев до 1 года",value:"4"},{text:"от 1 года до 3 лет",value:"5"}]},{title:"Категория получателя:",selected:[],options:[{text:"микро",value:"1"},{text:"малые",value:"2"},{text:"средние",value:"3"}]}]}},methods:{getMeasuresCardslist:function(e,t){var s=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=new XMLHttpRequest,n="http://192.168.18.171:8080/open-core/api/serv/get-services?pageNum="+(e-1)+"&pageSize="+t+"&sortCol="+a+"&sortDesc="+i;r.open("GET",n),r.responseType="json",r.onload=function(){console.log("Страницей MeasuresAuth получен список с услугами (getMeasuresCardslist) с open-template"),console.log(r.response),s.measuresCardsList=r.response.listEntity,s.itemsTotal=r.response.count},r.send()},changePageSize:function(e){console.log(e),this.pageSize=e,this.changeItemsCount()},changePage:function(e){console.log(e),this.page=e,this.changeItemsCount()},changeItemsCount:function(){var e=this;console.log("Апдейт");var t=new XMLHttpRequest,s="https://www.d-skills.ru/40_subsidy_bootstrapvue/measures.php?page="+this.page+"&pageSize="+this.pageSize;t.open("GET",s),t.responseType="json",t.onload=function(){console.log(t.response),e.xhrResponse=t.response},t.send()},selectEsia:function(){console.log("Начинаю поиск на основе ЕСИА"),this.filters[0].selected.push(2),this.filters[2].selected.push(2),this.filters[5].selected.push(3),this.scenario=2},scenarioFilter:function(){var e=this;console.log("Начинаю фильтрацию по сценарию "+this.scenario);var t=new XMLHttpRequest,s="https://www.d-skills.ru/40_subsidy_bootstrapvue/scenario.php?scenario="+this.scenario;t.open("GET",s),t.responseType="json",t.onload=function(){console.log(t.response),e.xhrResponse=t.response,e.totalItems=2},t.send()},clearFilter:function(){var e=this;this.filters.forEach((function(e){e.selected=[]}));var t=new XMLHttpRequest,s="https://www.d-skills.ru/40_subsidy_bootstrapvue/measures.php?page="+this.page+"&pageSize="+this.pageSize;t.open("GET",s),t.responseType="json",t.onload=function(){console.log(t.response),e.xhrResponse=t.response,e.totalItems=160},t.send()}},mounted:function(){this.getMeasuresCardslist(this.page,this.pageSize)}},l=o,c=(s("0703"),s("2877")),u=Object(c["a"])(l,a,i,!1,null,"76e04624",null);t["default"]=u.exports},d61c:function(e,t,s){e.exports=s.p+"img/electronic.60f02341.png"}}]);
//# sourceMappingURL=chunk-f6d37fa4.06f1419a.js.map