(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6856713b","chunk-0ab0417b"],{1195:function(t,e,a){t.exports=a.p+"img/avatar.111b4f2d.png"},"572b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("article",{staticClass:"profile"},[s("h4",{staticClass:"title-primary text-center"},[t._v("Личный кабинет")]),s("section",{staticClass:"user-info"},[s("div",{staticClass:"user-info__details"},[s("img",{class:"user-avatar bg-"+t.theme+" border border-"+t.theme,attrs:{src:a("1195"),alt:""}}),t._m(0)]),s("button",{class:"user-info__edit-btn btn btn-outline-"+t.theme,attrs:{type:"button","data-toggle":"modal",href:"#profileEdit"}},[t._v(" Редактировать ")])]),s("b-tabs",[s("b-tab",{attrs:{title:"Личные данные",active:""}},[s("h4",{staticClass:"text-center"},[t._v("Личные данные")]),s("section",[s("h5",{staticClass:"secondary-title"},[t._v("Основная информация")]),s("div",[s("div",{staticClass:"term"},[s("div",{staticClass:"term-title"},[t._v(" Обо мне: "),s("span",{staticClass:"dotted-line"})]),s("div",[t._v("Биография. Дополнительная информация")])]),s("div",{staticClass:"term"},[s("div",{staticClass:"term-title"},[t._v(" Телефон: "),s("span",{staticClass:"dotted-line"})]),s("div",[t._v("8-903-903-9039")])]),s("div",{staticClass:"term"},[s("div",{staticClass:"term-title"},[t._v(" E-mail: "),s("span",{staticClass:"dotted-line"})]),s("div",[t._v("sergeev@yandex.ru")])]),s("div",{staticClass:"term"},[s("div",{staticClass:"term-title"},[t._v(" Соцсети: "),s("span",{staticClass:"dotted-line"})]),s("div",[t._v("vk.ru, ok.ru")])])])]),s("section",{staticClass:"user__competencies"},[s("h5",{staticClass:"secondary-title"},[t._v("Компетенции")]),s("div",[s("span",{class:"badge badge-"+t.theme+" mr-2"},[t._v("Информационные технологии")]),s("span",{class:"badge badge-"+t.theme+" mr-2"},[t._v("Инженерия")]),s("span",{class:"badge badge-"+t.theme+" mr-2"},[t._v("Архитектура")]),s("button",{class:"btn btn-outline-"+t.theme},[t._v("+ Добавить")])])]),s("section",{staticClass:"experience"},[s("h5",{staticClass:"secondary-title"},[t._v("Опыт работы")]),s("div",[s("div",{staticClass:"term"},[s("div",{staticClass:"term-title"},[t._v(" Компания: "),s("span",{staticClass:"dotted-line"})]),s("div",[t._v("Информационные системы и сервисы")])]),s("div",{staticClass:"term"},[s("div",{staticClass:"term-title"},[t._v(" Должность: "),s("span",{staticClass:"dotted-line"})]),s("div",[t._v("Аналитик")])]),s("div",{staticClass:"term"},[s("div",{staticClass:"term-title"},[t._v(" Дата начала: "),s("span",{staticClass:"dotted-line"})]),s("div",[t._v("14.02.2018")])]),s("div",{staticClass:"term"},[s("div",{staticClass:"term-title"},[t._v(" Дата окончания: "),s("span",{staticClass:"dotted__line"})]),s("div",[t._v("14.02.2022")])]),s("div",{staticClass:"term"},[s("div",{staticClass:"term-title"},[t._v(" Описание: "),s("span",{staticClass:"dotted-line"})]),s("div",[t._v(" Общение с заказчиком. Подготовка технических документов ")])])])]),s("section",{staticClass:"education"},[s("h5",{staticClass:"secondary-title"},[t._v("Образование")]),s("div",[s("div",{staticClass:"term"},[s("div",{staticClass:"term-title"},[t._v(" Учебное заведение: "),s("span",{staticClass:"dotted-line"})]),s("div",[t._v("НГАХА")])]),s("div",{staticClass:"term"},[s("div",{staticClass:"term-title"},[t._v(" Специальность: "),s("span",{staticClass:"dotted-line"})]),s("div",[t._v("Архитектор")])]),s("div",{staticClass:"term"},[s("div",{staticClass:"term-title"},[t._v(" Степень: "),s("span",{staticClass:"dotted-line"})]),s("div",[t._v("Специалитет")])]),s("div",{staticClass:"term"},[s("div",{staticClass:"term-title"},[t._v(" Год начала: "),s("span",{staticClass:"dotted-line"})]),s("div",[t._v("1997")])]),s("div",{staticClass:"term"},[s("div",{staticClass:"term-title"},[t._v(" Год окончания: "),s("span",{staticClass:"dotted-line"})]),s("div",[t._v("2003")])])])])]),s("b-tab",{attrs:{title:"Заявления"}},[s("Applications",{attrs:{theme:t.theme}})],1)],1)],1)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-text"},[a("div",{staticClass:"user-text__name"},[t._v("Сергеев Иван Петрович")]),a("div",{staticClass:"user-text__snils"},[t._v("СНИЛС: 073-976-837 25")])])}],n=a("8f8b"),o={name:"AccountInfo",components:{Applications:n["default"]},props:["theme"],data:function(){return{xhrResponse:[],page:1,pageSize:10}},methods:{changePageSize:function(t){console.log(t),this.pageSize=t,this.changeItemsCount()},changePage:function(t){console.log(t),this.page=t,this.changeItemsCount()},changeItemsCount:function(){var t=this;console.log("Апдейт");var e=new XMLHttpRequest,a="https://www.d-skills.ru/40_subsidy_bootstrapvue/requests.php?page="+this.page+"&pageSize="+this.pageSize;e.open("GET",a),e.responseType="json",e.onload=function(){console.log(e.response),t.xhrResponse=e.response},e.send()}},getMeasuresCardslist:function(t,e){var a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=new XMLHttpRequest,o="http://192.168.18.171:8080/api/serv/get-services?pageNum="+(t-1)+"&pageSize="+e+"&sortCol="+s+"&sortDesc="+i;n.open("GET",o),n.responseType="json",n.onload=function(){console.log("Список мер"),console.log(n.response),a.measuresCardsList=n.response,a.itemsTotal=n.response.totalElements},n.send()},mounted:function(){var t=this;console.log("Смонтировано");var e=new XMLHttpRequest,a="https://www.d-skills.ru/40_subsidy_bootstrapvue/requests.php?page="+this.page+"&pageSize="+this.pageSize;e.open("GET",a),e.responseType="json",e.onload=function(){console.log(e.response),t.xhrResponse=e.response},e.send()}},r=o,l=a("2877"),c=Object(l["a"])(r,s,i,!1,null,null,null);e["default"]=c.exports},"8f8b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"applications"},[a("div",{staticClass:"measures__wrapper"},[a("h4",{staticClass:"primary-title text-center"},[t._v(" Заявления "),a("span",{class:"badge badge-"+t.theme},[t._v(t._s(t.apps.totalElements))])]),a("ApplicationsCardsList",{attrs:{"apps-cards-list":t.apps,"items-total":t.itemsTotal,page:t.page,"page-size":t.pageSize,"items-per-page":t.itemsPerPage,theme:t.theme},on:{"change-page-size":function(e){return t.changePageSize(e)},"change-page":t.changePage,"get-app-form":function(e){return t.getStartForm(e)}}})],1)]),a("b-modal",{attrs:{id:"edit-app",title:t.appForm.form.name,size:"xl","hide-footer":"","no-stacking":""},on:{close:t.cleanAppForm}},[t.isResponse?[t.isAlertVisible?a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" "+t._s(t.successComment)+" ")]):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-10"},[a("Form",{ref:"vueForm",attrs:{form:t.appForm.form.scheme,submission:t.appForm,options:{readOnly:!t.appForm.active}}})],1),t.appForm.form.actions&&t.appForm.form.actions.length>0?a("div",{staticClass:"col-2"},[t._l(t.appForm.form.actions,(function(e){return[t.appForm.active||e.alwaysActive?[e.backAction?a("button",{key:e.id,staticClass:"btn btn-block btn-primary",attrs:{type:"button"},on:{click:function(a){return t.invokeAction(e.id,!0)}}},[t._v(t._s(e.name))]):a("button",{key:e.id,staticClass:"btn btn-block btn-primary",attrs:{type:"button"},on:{click:function(a){return t.invokeAction(e.id)}}},[t._v(" "+t._s(e.name)+" ")])]:t._e()]}))],2):t._e()])]:t.isLoading?[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body text-center"},[a("div",{staticClass:"spinner-border text-primary",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])]),a("div",[t._v(t._s(t.loadingComment))])])])]:t._e()],2)],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.appsCardsList.content,(function(e,s){return a("ApplicationsCardsListItem",{key:s?e.id+"-"+s:e.id,attrs:{application:e,index:s,theme:t.theme},on:{"get-app-form":function(a){return t.$emit("get-app-form",e.id)}}})})),a("Pagination",{directives:[{name:"show",rawName:"v-show",value:t.itemsTotal>t.pageSize,expression:"itemsTotal > pageSize"}],attrs:{"items-total":t.itemsTotal,page:t.page,"page-size":t.pageSize,"items-per-page":t.itemsPerPage,theme:t.theme},on:{"change-page-size":function(e){return t.$emit("change-page-size",e)},"change-page":function(e){return t.$emit("change-page",e)}}})],2)},o=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card request-card"},[a("div",{staticClass:"card-body d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"card-title mb-0"},[a("span",{class:"badge badge-"+t.theme+" mr-2"},[t._v("№"+t._s(t.application.id))]),t._v(" "+t._s(t.application?t.application.servName:"Наименование меры поддержки")+" ")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.edit-app",modifiers:{"edit-app":!0}}],attrs:{variant:"outline-"+t.theme},on:{click:function(e){return t.$emit("get-app-form")}}},[t._v(" Посмотреть заявку ")])],1),a("div",{staticClass:"card-footer bg-transparent"},[a("p",[t._v("Текущий статус: "+t._s(t.application.status))]),a("p",[t._v("Дата подачи: 01.01.2022")]),a("p",[t._v("Статус обновлен: 19.01.2022")])])])},l=[],c={name:"ApplicationsCardsListItem",props:["application","index","theme"],data:function(){return{}},computed:{}},p=c,d=a("2877"),m=Object(d["a"])(p,r,l,!1,null,null,null),g=m.exports,u=a("cbb7"),v={name:"ApplicationsCardsList",components:{ApplicationsCardsListItem:g,Pagination:u["a"]},props:["appsCardsList","itemsTotal","page","pageSize","itemsPerPage","theme"]},h=v,f=Object(d["a"])(h,n,o,!1,null,null,null),_=f.exports,C=a("5b48"),b=a("bc3a"),P=a.n(b),k={name:"Applications",components:{ApplicationsCardsList:_,Form:C["Form"]},props:["theme"],data:function(){return{url:"https://open-newtemplate.isands.ru/api/",apps:[],itemsTotal:0,page:1,pageSize:10,itemsPerPage:[10,25,50],appForm:{active:!1,data:{},form:{actions:[],id:0,modelId:0,scheme:{}},id:0,orderId:"",status:""},isLoading:!1,loadingComment:"Загрузка заявления",successComment:"Заявление успешно загружено!",isResponse:!1,isAlertVisible:!1,isValidFormData:!1,isFirstLoad:!0}},methods:{getApps:function(t,e){var a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];P.a.get(this.url+"app/get-apps?pageNum="+(t-1)+"&pageSize="+e+"&sortCol="+s+"&sortDesc="+i+"&active="+n).then((function(t){a.apps=t.data,a.itemsTotal=t.data.totalElements,console.log("Список заявлений"),console.log(a.apps)}))},getStartForm:function(t){this.isResponse=!1,this.isLoading=!0,this.loadingComment="Загрузка формы заявления",setTimeout(this.getForm,1e3,t)},getForm:function(t){var e=this;P.a.get(this.url+"app/get-appData?id="+t).then((function(t){console.log("Стартовая форма"),console.log(t);var a=t.data;a.data=JSON.parse(a.data),a.form.scheme=JSON.parse(a.form.scheme),e.appForm=a})).then((function(){e.isResponse=!0,e.isLoading=!1,e.isAlertVisible=!0,setTimeout(e.hideAlert,3e3)}))},hideAlert:function(){this.isAlertVisible=!1},validateForm:function(){return this.$refs.vueForm.formio.checkValidity(this.$refs.vueForm.formio.submission.data)},invokeAction:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("Выполнение действия"),this.isFirstLoad=!1,this.isValidFormData=this.validateForm(),console.log("Валидность формы:"+this.isValidFormData),this.isValidFormData?(this.loadingComment="Отправка данных заявления",this.isResponse=!1,this.isLoading=!0,setTimeout(this.invoke,1e3,t,e)):this.$refs.vueForm.formio.submit()},invoke:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s={actionId:t,userId:13,appId:this.appForm.id,data:JSON.stringify(this.appForm.data)};P.a.post(this.url+"app/action-invoke",s).then((function(t){if(console.log("Ответ на экшн"),console.log(t),t.data.responseObject){var s=JSON.parse(t.data.responseObject);console.log("Объект файла"),console.log(s);var i=document.createElement("a");i.setAttribute("download",s.fileName),i.setAttribute("href","data:application/octet-stream;base64,"+s.fileData),i.click()}else a?e.cleanAppForm():e.getNextForm(t)})).then((function(){e.isResponse=!0,e.isLoading=!1,e.isAlertVisible=!0,e.isFirstLoad=!0,setTimeout(e.hideAlert,3e3)}))},getNextForm:function(t){console.log("Следующая форма"),console.log(t);var e=t.data.applicationDTO;e.data=JSON.parse(e.data),e.form.scheme=JSON.parse(e.form.scheme),this.appForm=e,this.successComment="Заявление отправлено!"},cleanAppForm:function(){this.$bvModal.hide("edit-app"),this.isLoading=!1,this.loadingComment="Загрузка формы заявления",this.successComment="Форма заявления успешно загружена!",this.isResponse=!0,this.isAlertVisible=!0,this.isValidFormData=!1,this.isFirstLoad=!0},changePageSize:function(t){this.page=t[0],this.pageSize=t[1],this.getApps(this.page,this.pageSize),this.scrollToTop()},changePage:function(t){this.page=t,this.getApps(this.page,this.pageSize),this.scrollToTop()},scrollToTop:function(){window.scrollTo(0,0)}},mounted:function(){this.getApps(this.page,this.pageSize)}},z=k,F=(a("fa3a"),Object(d["a"])(z,s,i,!1,null,null,null));e["default"]=F.exports},"96a6":function(t,e,a){},cbb7:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"paginator d-flex justify-content-between align-items-center"},[a("PaginationItemsPerPage",{attrs:{"items-per-page":t.itemsPerPage,"page-size":t.pageSize,theme:t.theme},on:{"change-page-size":function(e){return t.changePageSize(e)}}}),a("div",{staticClass:"paginator__items-of-total"},[t._v(" "+t._s(t.pageSize*(t.page-1)+1)+" - "+t._s(t.page===t.pages?t.itemsTotal:t.pageSize*t.page)+" из "+t._s(t.itemsTotal)+" ")]),t.itemsTotal>t.pageSize?a("PaginationPageSelector",{attrs:{pages:t.pages,"active-page":t.page,theme:t.theme},on:{"change-page":function(e){return t.$emit("change-page",e)}}}):t._e()],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"paginator__items-per-page d-none d-lg-block"},t._l(t.itemsPerPage,(function(e){return a("button",{key:e,class:"page-size btn btn-"+t.theme,attrs:{type:"button"},on:{click:function(a){return t.$emit("change-page-size",e)}}},[t._v(" "+t._s(e)+" ")])})),0)},o=[],r={name:"PaginationItemsPerPage",props:["itemsPerPage","pageSize","theme"]},l=r,c=a("2877"),p=Object(c["a"])(l,n,o,!1,null,null,null),d=p.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"paginator__page-selector"},[a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination justify-content-center"},[t.activePage>1?a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Предыдущая"},on:{click:function(e){return e.preventDefault(),t.$emit("change-page",--t.activePage)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]):t._e(),t.activePage>2?a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("change-page",1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("1")])])]):t._e(),t.activePage>3?[t.activePage>4?a("li",{staticClass:"page-item disabled"},[t._m(0)]):a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("change-page",2)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("2")])])])]:t._e(),t._l(t.pages,(function(e){return[e>=t.activePage-1&&e<=t.activePage+1?a("li",{key:e,staticClass:"page-item",class:{active:e===t.activePage}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.$emit("change-page",e)}}},[t._v(t._s(e))])]):t._e()]})),t.activePage<t.pages-2?[t.activePage<t.pages-3?a("li",{staticClass:"page-item disabled"},[t._m(1)]):a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("change-page",t.pages-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.pages-1))])])])]:t._e(),t.activePage<t.pages-1?a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("change-page",t.pages)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.pages))])])]):t._e(),t.activePage<t.pages?a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Следующая"},on:{click:function(e){return e.preventDefault(),t.$emit("change-page",++t.activePage)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])]):t._e()],2)])])},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("…")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"page-link",attrs:{href:"#"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("…")])])}],u={name:"PaginationPageSelector",props:["pages","activePage","theme"]},v=u,h=Object(c["a"])(v,m,g,!1,null,null,null),f=h.exports,_={name:"Pagination",components:{PaginationItemsPerPage:d,PaginationPageSelector:f},props:["itemsTotal","page","pageSize","itemsPerPage","theme"],methods:{changePageSize:function(t){var e=this.countFirstItemNumberOnPage(this.pageSize,this.page),a=this.countNewPage(e,t),s=[];s.push(a),s.push(t),this.$emit("change-page-size",s)},countFirstItemNumberOnPage:function(t,e){return t*(e-1)+1},countNewPage:function(t,e){return Math.ceil(t/e)}},computed:{pages:function(){return Math.ceil(this.itemsTotal/this.pageSize)}}},C=_,b=Object(c["a"])(C,s,i,!1,null,null,null);e["a"]=b.exports},fa3a:function(t,e,a){"use strict";a("96a6")}}]);
//# sourceMappingURL=chunk-6856713b.128c2bdd.js.map