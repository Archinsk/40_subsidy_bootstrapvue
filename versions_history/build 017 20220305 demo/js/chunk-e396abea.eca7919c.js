(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e396abea","chunk-a06c6af6"],{1195:function(t,e,a){t.exports=a.p+"img/avatar.111b4f2d.png"},"572b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("article",{staticClass:"profile"},[a("h4",{staticClass:"title-primary text-center"},[t._v("Личный кабинет")]),t._m(0),a("b-tabs",[a("b-tab",{attrs:{title:"Личные данные",active:""}},[a("h4",{staticClass:"text-center"},[t._v("Личные данные")]),a("section",[a("h5",{staticClass:"secondary-title"},[t._v("Основная информация")]),a("div",[a("div",{staticClass:"term"},[a("div",{staticClass:"term-title"},[t._v(" Обо мне: "),a("span",{staticClass:"dotted-line"})]),a("div",[t._v("Биография. Дополнительная информация")])]),a("div",{staticClass:"term"},[a("div",{staticClass:"term-title"},[t._v(" Телефон: "),a("span",{staticClass:"dotted-line"})]),a("div",[t._v("8-903-903-9039")])]),a("div",{staticClass:"term"},[a("div",{staticClass:"term-title"},[t._v(" E-mail: "),a("span",{staticClass:"dotted-line"})]),a("div",[t._v("sergeev@yandex.ru")])]),a("div",{staticClass:"term"},[a("div",{staticClass:"term-title"},[t._v(" Соцсети: "),a("span",{staticClass:"dotted-line"})]),a("div",[t._v("vk.ru, ok.ru")])])])]),a("section",{staticClass:"user__competencies"},[a("h5",{staticClass:"secondary-title"},[t._v("Компетенции")]),a("div",[a("span",{staticClass:"badge badge-primary mr-2"},[t._v("Информационные технологии")]),a("span",{staticClass:"badge badge-primary mr-2"},[t._v("Инженерия")]),a("span",{staticClass:"badge badge-primary mr-2"},[t._v("Архитектура")]),a("button",{staticClass:"btn btn-outline-primary"},[t._v("+ Добавить")])])]),a("section",{staticClass:"experience"},[a("h5",{staticClass:"secondary-title"},[t._v("Опыт работы")]),a("div",[a("div",{staticClass:"term"},[a("div",{staticClass:"term-title"},[t._v(" Компания: "),a("span",{staticClass:"dotted-line"})]),a("div",[t._v("Информационные системы и сервисы")])]),a("div",{staticClass:"term"},[a("div",{staticClass:"term-title"},[t._v(" Должность: "),a("span",{staticClass:"dotted-line"})]),a("div",[t._v("Аналитик")])]),a("div",{staticClass:"term"},[a("div",{staticClass:"term-title"},[t._v(" Дата начала: "),a("span",{staticClass:"dotted-line"})]),a("div",[t._v("14.02.2018")])]),a("div",{staticClass:"term"},[a("div",{staticClass:"term-title"},[t._v(" Дата окончания: "),a("span",{staticClass:"dotted__line"})]),a("div",[t._v("14.02.2022")])]),a("div",{staticClass:"term"},[a("div",{staticClass:"term-title"},[t._v(" Описание: "),a("span",{staticClass:"dotted-line"})]),a("div",[t._v(" Общение с заказчиком. Подготовка технических документов ")])])])]),a("section",{staticClass:"education"},[a("h5",{staticClass:"secondary-title"},[t._v("Образование")]),a("div",[a("div",{staticClass:"term"},[a("div",{staticClass:"term-title"},[t._v(" Учебное заведение: "),a("span",{staticClass:"dotted-line"})]),a("div",[t._v("НГАХА")])]),a("div",{staticClass:"term"},[a("div",{staticClass:"term-title"},[t._v(" Специальность: "),a("span",{staticClass:"dotted-line"})]),a("div",[t._v("Архитектор")])]),a("div",{staticClass:"term"},[a("div",{staticClass:"term-title"},[t._v(" Степень: "),a("span",{staticClass:"dotted-line"})]),a("div",[t._v("Специалитет")])]),a("div",{staticClass:"term"},[a("div",{staticClass:"term-title"},[t._v(" Год начала: "),a("span",{staticClass:"dotted-line"})]),a("div",[t._v("1997")])]),a("div",{staticClass:"term"},[a("div",{staticClass:"term-title"},[t._v(" Год окончания: "),a("span",{staticClass:"dotted-line"})]),a("div",[t._v("2003")])])])])]),a("b-tab",{attrs:{title:"Заявления"}},[a("Applications")],1)],1)],1)])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"user-info"},[s("div",{staticClass:"user-info__details"},[s("img",{staticClass:"user-avatar bg-primary border border-primary",attrs:{src:a("1195"),alt:""}}),s("div",{staticClass:"user-text"},[s("div",{staticClass:"user-text__name"},[t._v("Сергеев Иван Петрович")]),s("div",{staticClass:"user-text__snils"},[t._v("СНИЛС: 073-976-837 25")])])]),s("button",{staticClass:"user-info__edit-btn btn btn-outline-primary",attrs:{type:"button","data-toggle":"modal",href:"#profileEdit"}},[t._v(" Редактировать ")])])}],n=a("8f8b"),r={name:"AccountInfo",components:{Applications:n["default"]},data:function(){return{xhrResponse:[],page:1,pageSize:10}},methods:{changePageSize:function(t){console.log(t),this.pageSize=t,this.changeItemsCount()},changePage:function(t){console.log(t),this.page=t,this.changeItemsCount()},changeItemsCount:function(){var t=this;console.log("Апдейт");var e=new XMLHttpRequest,a="https://www.d-skills.ru/40_subsidy_bootstrapvue/requests.php?page="+this.page+"&pageSize="+this.pageSize;e.open("GET",a),e.responseType="json",e.onload=function(){console.log(e.response),t.xhrResponse=e.response},e.send()}},getMeasuresCardslist:function(t,e){var a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=new XMLHttpRequest,r="http://192.168.18.171:8080/api/serv/get-services?pageNum="+(t-1)+"&pageSize="+e+"&sortCol="+s+"&sortDesc="+i;n.open("GET",r),n.responseType="json",n.onload=function(){console.log("Список мер"),console.log(n.response),a.measuresCardsList=n.response,a.itemsTotal=n.response.totalElements},n.send()},mounted:function(){var t=this;console.log("Смонтировано");var e=new XMLHttpRequest,a="https://www.d-skills.ru/40_subsidy_bootstrapvue/requests.php?page="+this.page+"&pageSize="+this.pageSize;e.open("GET",a),e.responseType="json",e.onload=function(){console.log(e.response),t.xhrResponse=e.response},e.send()}},o=r,p=a("2877"),l=Object(p["a"])(o,s,i,!1,null,null,null);e["default"]=l.exports},"8f8b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"applications"},[a("div",{staticClass:"measures__wrapper"},[a("h4",{staticClass:"primary-title text-center"},[t._v(" Заявления "),a("span",{staticClass:"badge badge-primary"},[t._v(t._s(t.apps.totalElements))])]),a("ApplicationsCardsList",{attrs:{"apps-cards-list":t.apps,"items-total":t.itemsTotal,page:t.page,"page-size":t.pageSize,"items-per-page":t.itemsPerPage},on:{"change-page-size":function(e){return t.changePageSize(e)},"change-page":t.changePage,"get-app-form":function(e){return t.getAppForm(e)}}})],1)]),a("b-modal",{attrs:{id:"edit-app",title:"Редактирование заявления",size:"xl","hide-footer":"","no-stacking":""},on:{close:t.cleanAppForm}},[t.isLoadedStartForm&&!t.isRequested?[a("Form",{attrs:{form:t.appForm.form.scheme,submission:t.appForm,options:{readOnly:!t.appForm.active}}}),t._l(t.appForm.form.actions,(function(e){return[t.appForm.active||e.alwaysActive?a("b-button",{key:e.id,staticClass:"app-action-button",on:{click:function(a){return t.invokeAction(e.id)}}},[t._v(t._s(e.name))]):t._e()]}))]:[t.isResponsed?a("p",[t._v("Изменения сохранены!")]):[a("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),a("p",[t._v("Заявление отправляется...")])],a("b-button",{on:{click:t.cleanAppForm}},[t._v("OK")])]],2)],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.appsCardsList.content,(function(e,s){return a("ApplicationsCardsListItem",{key:s?e.id+"-"+s:e.id,attrs:{application:e,index:s},on:{"get-app-form":function(a){return t.$emit("get-app-form",e.id)}}})})),a("Pagination",{directives:[{name:"show",rawName:"v-show",value:t.itemsTotal>t.pageSize,expression:"itemsTotal > pageSize"}],attrs:{"items-total":t.itemsTotal,page:t.page,"page-size":t.pageSize,"items-per-page":t.itemsPerPage},on:{"change-page-size":function(e){return t.$emit("change-page-size",e)},"change-page":function(e){return t.$emit("change-page",e)}}})],2)},r=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card request-card"},[a("div",{staticClass:"card-body d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"card-title mb-0"},[a("span",{staticClass:"badge badge-primary mr-2"},[t._v("№"+t._s(t.application.id))]),t._v(" "+t._s(t.application?t.application.servName:"Наименование меры поддержки")+" ")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.edit-app",modifiers:{"edit-app":!0}}],attrs:{variant:"outline-primary"},on:{click:function(e){return t.$emit("get-app-form")}}},[t._v(" Посмотреть заявку ")])],1),a("div",{staticClass:"card-footer bg-transparent"},[a("p",[t._v("Текущий статус: "+t._s(t.application.status))]),a("p",[t._v("Дата подачи: 01.01.2022")]),a("p",[t._v("Статус обновлен: 19.01.2022")])])])},p=[],l={name:"ApplicationsCardsListItem",props:["application","index"],data:function(){return{}},computed:{}},c=l,g=a("2877"),d=Object(g["a"])(c,o,p,!1,null,null,null),u=d.exports,m=a("cbb7"),v={name:"ApplicationsCardsList",components:{ApplicationsCardsListItem:u,Pagination:m["a"]},props:["appsCardsList","itemsTotal","page","pageSize","itemsPerPage"]},h=v,_=Object(g["a"])(h,n,r,!1,null,null,null),f=_.exports,C=a("5b48"),b=a("bc3a"),P=a.n(b),S={name:"Applications",components:{ApplicationsCardsList:f,Form:C["Form"]},data:function(){return{url:"https://open-demo.isands.ru/api/",apps:[],itemsTotal:0,page:1,pageSize:10,itemsPerPage:[10,25,50],appForm:{active:!1,data:{},form:{actions:[],id:0,modelId:0,scheme:{}},id:0,orderId:"",status:""},isLoadedStartForm:!1,isRequested:!1,isResponsed:!1}},methods:{getApps:function(t,e){var a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];P.a.get(this.url+"app/get-apps?pageNum="+(t-1)+"&pageSize="+e+"&sortCol="+s+"&sortDesc="+i+"&active="+n).then((function(t){a.apps=t.data,a.itemsTotal=t.data.totalElements})).then((function(){console.log("Ответ распарсен"),console.log(a.apps),a.isLoadedStartForm=!0}))},getAppForm:function(t){var e=this;this.isLoadedStartForm=!1,this.isRequested=!1,this.isResponsed=!1,P.a.get(this.url+"app/get-appData?id="+t).then((function(t){console.log("Отправлен запрос"),console.log(t);var a=t.data;a.data=JSON.parse(a.data),a.form.scheme=JSON.parse(a.form.scheme),e.appForm=a})).then((function(){console.log("Ответ распарсен"),console.log(e.appForm),e.isLoadedStartForm=!0}))},invokeAction:function(t){var e=this;this.isRequested=!0;var a={actionId:t,userId:13,appId:this.appForm.id,data:JSON.stringify(this.appForm.data)};P.a.post(this.url+"app/action-invoke",a).then((function(t){console.log("Отправлен запрос"),console.log(t),e.appForm=t.data.applicationDTO})).then((function(){console.log("Записан ответ"),e.appForm.data=JSON.parse(e.appForm.data),e.appForm.form.scheme=JSON.parse(e.appForm.form.scheme)})).then((function(){console.log("Распарсена форма и ее заполнение"),e.isResponsed=!0,e.appForm={}}))},cleanAppForm:function(){this.$bvModal.hide("edit-app"),this.isRequested=!1,this.isResponsed=!1},changePageSize:function(t){this.page=t[0],this.pageSize=t[1],this.getApps(this.page,this.pageSize),this.scrollToTop()},changePage:function(t){this.page=t,this.getApps(this.page,this.pageSize),this.scrollToTop()},scrollToTop:function(){window.scrollTo(0,0)}},mounted:function(){this.getApps(this.page,this.pageSize)}},z=S,k=Object(g["a"])(z,s,i,!1,null,null,null);e["default"]=k.exports},cbb7:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"paginator d-flex justify-content-between align-items-center"},[a("PaginationItemsPerPage",{attrs:{"items-per-page":t.itemsPerPage,"page-size":t.pageSize},on:{"change-page-size":function(e){return t.changePageSize(e)}}}),a("div",{staticClass:"paginator__items-of-total"},[t._v(" "+t._s(t.pageSize*(t.page-1)+1)+" - "+t._s(t.page===t.pages?t.itemsTotal:t.pageSize*t.page)+" из "+t._s(t.itemsTotal)+" ")]),t.itemsTotal>t.pageSize?a("PaginationPageSelector",{attrs:{pages:t.pages,"active-page":t.page},on:{"change-page":function(e){return t.$emit("change-page",e)}}}):t._e()],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"paginator__items-per-page d-none d-lg-block"},t._l(t.itemsPerPage,(function(e){return a("button",{key:e,staticClass:"page-size btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.$emit("change-page-size",e)}}},[t._v(" "+t._s(e)+" ")])})),0)},r=[],o={name:"PaginationItemsPerPage",props:["itemsPerPage","pageSize"]},p=o,l=a("2877"),c=Object(l["a"])(p,n,r,!1,null,null,null),g=c.exports,d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"paginator__page-selector"},[a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination justify-content-center"},[t.activePage>1?a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Предыдущая"},on:{click:function(e){return e.preventDefault(),t.$emit("change-page",--t.activePage)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]):t._e(),t.activePage>2?a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("change-page",1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("1")])])]):t._e(),t.activePage>3?[t.activePage>4?a("li",{staticClass:"page-item disabled"},[t._m(0)]):a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("change-page",2)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("2")])])])]:t._e(),t._l(t.pages,(function(e){return[e>=t.activePage-1&&e<=t.activePage+1?a("li",{key:e,staticClass:"page-item",class:{active:e===t.activePage}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.$emit("change-page",e)}}},[t._v(t._s(e))])]):t._e()]})),t.activePage<t.pages-2?[t.activePage<t.pages-3?a("li",{staticClass:"page-item disabled"},[t._m(1)]):a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("change-page",t.pages-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.pages-1))])])])]:t._e(),t.activePage<t.pages-1?a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("change-page",t.pages)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.pages))])])]):t._e(),t.activePage<t.pages?a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Следующая"},on:{click:function(e){return e.preventDefault(),t.$emit("change-page",++t.activePage)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])]):t._e()],2)])])},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("…")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"page-link",attrs:{href:"#"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("…")])])}],m={name:"PaginationPageSelector",props:["pages","activePage"]},v=m,h=Object(l["a"])(v,d,u,!1,null,null,null),_=h.exports,f={name:"Pagination",components:{PaginationItemsPerPage:g,PaginationPageSelector:_},props:["itemsTotal","page","pageSize","itemsPerPage"],methods:{changePageSize:function(t){var e=this.countFirstItemNumberOnPage(this.pageSize,this.page),a=this.countNewPage(e,t),s=[];s.push(a),s.push(t),this.$emit("change-page-size",s)},countFirstItemNumberOnPage:function(t,e){return t*(e-1)+1},countNewPage:function(t,e){return Math.ceil(t/e)}},computed:{pages:function(){return Math.ceil(this.itemsTotal/this.pageSize)}}},C=f,b=Object(l["a"])(C,s,i,!1,null,null,null);e["a"]=b.exports}}]);
//# sourceMappingURL=chunk-e396abea.eca7919c.js.map